!function(a,b){function c(c,g,h,i){"menu_items"==c&&0!=a(".tc-header").length&&a("body").addClass("wfc-reset-menu-item-first-letter");for(var m in h)switch(m){case"font-size":case"line-height":if(!b.isString(h[m]))return;var n=h[m].replace("px","").replace("rem","");if(n=parseInt(n,10),!b.isNumber(n))return;var o=parseFloat(n)/16;a(g).not(i).css(m,""),a(g).not(i).css(m,o+"rem");break;case"font-family":var p=h[m],q=h.subset?h.subset:0;clean_font_family=f(p),-1!=p.indexOf("gfont")&&k(g,clean_font_family,q),a(g).css("font-family",""),a(g).not(i).css(j(clean_font_family)),d("font-family",a(g));break;case"static-effect":var s=a(g).attr("class");if(s)for(var s=a(g).attr("class").split(" "),t=0;t<s.length;t++)-1!=s[t].indexOf("font-effect")&&a(g).removeClass(s[t]);a(g).not(i).addClass("font-effect-"+h[m]),r[c]["static-effect"]=h[m],r[c]["has-tried-inset"]="inset"==r[c]["static-effect"]?!0:r[c]["has-tried-inset"];break;case"icon":var u=l[c].icon;"hide"==h.icon?a(u).addClass("tc-hide-icon"):a(u).removeClass("tc-hide-icon");break;case"color":e(c,g,i,m,h[m]);break;default:a(g).not(i).css(m,""),a(g).not(i).css(m,h[m])}}function d(a,b){if(b.attr("style")){var c=b.attr("style").split(";");for(var d in c)-1!=c[d].indexOf(a)&&(c[d].replace("!important",""),c[d]=c[d]+"!important"),"all"==a&&-1==c[d].indexOf("font-family")&&c[d]&&(c[d]=c[d]+"!important");c=c.join(";"),b.attr("style",c)}}function e(b,c,d,e,f){var g=r[b]["static-effect"]?r[b]["static-effect"]:"";"inset"!=g&&"inset"==m[b]["static-effect"]&&a(c).css("background-color","transparent"),a(c).not(d).css(e,f)}function f(a){return a?a.replace("[cfont]","").replace("[gfont]",""):!1}function g(a){return a?a.replace(/[\+|:]/g," "):!1}function h(a){return a?a.replace(/[^0-9\.]+/g,""):!1}function i(a){return a=a.replace(/[\.|\#]/g,""),a.replace(/\s+/g,"-")}function j(a){var b,c,d=a.split(":"),e="";return b=d[0],c=d[1]?h(d[1]):"",e=d[1]&&-1!=d[1].indexOf("italic")?"italic":"",{"font-family":g(b),"font-weight":c||400,"font-style":e||""}}function k(b,c,d){q[b]=c;var e=["//fonts.googleapis.com/css?family="];e.push(c),d&&"all-subsets"!=d&&e.push("&subset="+d),0===a("link#"+i(b)).length?a("link:last").after('<link class="gfont" id="'+i(b)+'" href="'+e.join("")+'" rel="stylesheet" type="text/css">'):a("link#"+i(b)).attr("href",e.join(""))}var l=TCFontPreview.DefaultSettings,m=TCFontPreview.DBSettings,n=TCFontPreview.SettingPrefix,o=TCFontPreview.SkinColors,p=TCFontPreview.CurrentSkin||"grey.css",q=[],r=(TCFontPreview.POST,{});a.each(l,function(b,e){r[b]=r[b]||{},r[b]["has-tried-inset"]=!1,wp.customize(n+"["+b+"]",function(e){e.bind(function(e){Selector=l[b].selector||"",Selector=a("<textarea/>").html(Selector).text(),e?e=JSON.parse(e||{}):(a(Selector).attr("style",""),e=l[b]);var f=f||[],g=g||[],h=h||[],i=i||[];f[Selector]=l[b].not||"",e["color-hover"]&&(g[Selector]=e["color-hover"]||!1,h[Selector]="main"==l[b].color?o[p][0]||"#08c":l[b].color||"#777",SavedColor="main"==m[b].color?h[Selector]:m[b].color,i[Selector]=e.color||SavedColor||h[Selector],a(Selector).not(f[Selector]).hover(function(){a(this).css("color",g[Selector])},function(){a(this).css("color",i[Selector])})),c(b,Selector,e,f[Selector]),e.important&&d("all",a(Selector))})})})}(jQuery,_);
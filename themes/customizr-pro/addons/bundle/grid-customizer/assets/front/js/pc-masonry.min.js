var czrapp=czrapp||{};!function(a,b){var c={initOnCzrReady:function(){if("undefined"!=typeof a.fn.masonry){var c=a(".masonry__wrapper"),d=a.Deferred();if(1>c.length)return void b.errorLog("Masonry container does not exist in the DOM.");c.bind("masonry-init.customizr",function(){d.resolve()}),c.imagesLoaded(function(){c.masonry({itemSelector:".grid-item"}).on("smartload simple_load","img",function(){c.masonry("layout")}).trigger("masonry-init.customizr")}),b.$_body.on("post-load",function(b,e){var f=function(b,d){if(d&&d.type&&"success"==d.type&&d.collection&&d.html){var e=a.extend({},c.data("masonry").options),f=a.extend({},e,{transitionDuration:0});c.masonry(f).masonry("appended",a(d.html,c)).masonry("reloadItems").imagesLoaded(function(){c.masonry("layout").masonry(e),c.trigger("masonry.customizr",d),setTimeout(function(){a(window).trigger("scroll.infinity")},150)})}};"resolved"==d.state()?f(b,e):d.then(function(){f(b,e)})})}}};b.methods.MasonryGrid={},a.extend(b.methods.MasonryGrid,c),b.Base.extend(b.methods.MasonryGrid),b.ready.done(function(){b.methods.MasonryGrid.initOnCzrReady()})}(jQuery,czrapp);